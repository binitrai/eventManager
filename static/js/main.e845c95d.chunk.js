(this.webpackJsonpapp_event_manager=this.webpackJsonpapp_event_manager||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={inlineBlock:"UI_inlineBlock__1Gy-6",PullRight:"UI_PullRight__2-Mv2",MarginNone:"UI_MarginNone__2u8Bj",MarginLSM:"UI_MarginLSM__3eGSv",LinkStyle:"UI_LinkStyle__1gSyx",CardFooter:"UI_CardFooter__Ob4Pn",MarginBSM:"UI_MarginBSM__1mz_v",MarginLMD:"UI_MarginLMD__rvH3G"}},,,function(e,t,n){e.exports={NewEvent:"CreateNewEvent_NewEvent__3y02f",InputContainer:"CreateNewEvent_InputContainer__MtuLg",ButtonContainer:"CreateNewEvent_ButtonContainer__1Zw3l"}},,,,,,,,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-",Logo:"SideDrawer_Logo__3voUv"}},,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",Logo:"Toolbar_Logo__3Lk47",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},,,,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},,,function(e,t,n){e.exports={Main:"Login_Main__28eWZ",SignInText:"Login_SignInText__3L1Md"}},function(e,t,n){e.exports={inputStyle:"Input_inputStyle__10vuk",inputStyleFlat:"Input_inputStyleFlat__WbgiA"}},function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Success:"Button_Success__2Rka1",Danger:"Button_Danger__2ogZq",Rounded:"Button_Rounded__1ILJD",AutoWidth:"Button_AutoWidth__2Yb9w"}},function(e,t,n){e.exports={Card:"Card_Card__1oeUq",Container:"Card_Container__o0NyY"}},,,function(e,t,n){e.exports={Content:"Layout_Content__3H3X8"}},function(e,t,n){e.exports={Logo:"Logo_Logo__1N0xH"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},,,function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__m405X"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},function(e,t,n){e.exports={FormRow:"FormRow_FormRow__1T75c"}},function(e,t,n){e.exports={Dashboard:"Dasboard_Dashboard__25w5Z",inlineBlock:"Dasboard_inlineBlock__2nSej",PullRight:"Dasboard_PullRight__3Dmy5"}},function(e,t,n){e.exports={Modal:"Modal_Modal__1-5dN"}},function(e,t,n){e.exports={NotFound:"NotFound_NotFound__yF7tF"}},,,function(e,t,n){e.exports=n(61)},,,,,function(e,t,n){},,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),l=n.n(o),c=n(13),u=(n(55),n(14)),i=n(15),s=n(17),m=n(16),d=n(18),v=n(11),g=function(e){return e.children},f=n(37),p=n.n(f),_=n(24),E=n.n(_),h=n(38),N=n.n(h),b={NOT_FOUND:"NOT_FOUND",logoText:"Event Manager",signinPlaceholder:"Enter Your Name",signInText:"Sign In",guestLogin:"Guest Login",noEvents:"You have not create any event yet.",createNewEvent:"Create New Event",loading:"Loading",eventName:"Event Name",description:"Description",venue:"Venue",price:"Price",discount:"Discount",cancel:"Cancel",reset:"Reset",filterTasks:"Filter Events: ",notFoundInSelectedFilter:"Nothing matched with selected filter. Please select different filter!"},S=function(){return r.a.createElement("div",{className:N.a.Logo},b.logoText)},O=n(39),D=n.n(O),w=n(7),I=n(28),y=n.n(I),C=function(e){var t=(new Date).getTime();return e+"xxx-4x-yxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},j=function(e,t){var n=localStorage.getItem(e);return(n=n?JSON.parse(n):[]).push(t),localStorage.setItem(e,JSON.stringify(n)),n},T=function(){return(new Date).getTime()},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={status:e,data:t,errMsg:n};return a},x=function(e,t){var n=Object.create(null);return n.id=C("user"),n.name=e,n.email=t||e,n.createdAt=T(),n.lastModified=n.createdAt,n},L=function(e){var t;localStorage.setItem("token",e.data.id),localStorage.setItem("expirationDate",(t=e.expiresIn,new Date((new Date).getTime()+1e3*t))),localStorage.setItem("userId",e.data.id),localStorage.setItem("userName",e.data.name)},M=function(e){var t=localStorage.getItem("USER_DATA");if(t){var n=(t=JSON.parse(t)).filter((function(t){return t.name===e}));return n.length?k(!0,n[0]):k(!1,null,b.NOT_FOUND)}return k(!1,null,b.NOT_FOUND)},A=function(e){var t=x(e);return j("USER_DATA",t),k(!0,t)},F=function(e,t,n,a,r,o){var l=Object.create(null);return l.id=C("event"),l.eventName=e,l.description=t,l.venue=n,l.price=a,l.discount=r,l.createdAt=T(),l.lastModified=l.createdAt,l.createdBy=o,l},B=function(e,t){var n=function(e,t,n){return n.filter((function(n){return n[e]===t}))}("createdBy",e,t);if(0===n.length)return k(!1,null,b.NOT_FOUND);var a={};return n.forEach((function(e){a[e.id]=e})),k(!0,a)},U=function(e){return function(t){var n=function(e){var t=localStorage.getItem("EVENT_DATA");return t?B(e,JSON.parse(t)):k(!1,null,b.NOT_FOUND)}(e);t(R(n.data))}},R=function(e){return{type:"SET_DASHBOARD",data:e}},H=function(e,t,n,a,r,o){return function(l){!function(e,t,n,a,r,o){var l=F(e,t,n,a,r,o);j("EVENT_DATA",l),k(!0,l)}(e,t,n,a,r,o),l(U(o))}},P=function(e,t){return{type:"AUTH_SUCCESS",userId:e,userName:t}},W=function(e){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),"function"===typeof e&&e(),{type:"AUTH_LOGOUT"}},X=function(e){return function(t){setTimeout((function(){t(W())}),1e3*e)}},J=function(e){return function(t){var n=function(e){var t=M(e);return!1===t.status&&(t=A(e)),{success:!0,data:t.data,expiresIn:3600}}(e);L(n),t(P(n.data.id,n.data.name)),t(X(n.expiresIn))}},V=Object(w.b)((function(e){return{auth:e.auth}}),(function(e){return{logout:function(t){return e(W(t))}}}))((function(e){var t=Object(v.g)();return e.auth?r.a.createElement("li",{className:y.a.NavigationItem},r.a.createElement("a",{href:e.link,onClick:function(n){n.preventDefault(),e.logout((function(){t.push("/"),window.location.reload()}))},className:e.active?y.a.active:null},e.children)):null})),Y=function(){return r.a.createElement("ul",{className:D.a.NavigationItems},r.a.createElement(V,{link:"/",active:!0},"Logout"))},G=n(42),Z=n.n(G),q=function(e){return r.a.createElement("div",{className:Z.a.DrawerToggle,onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},K=function(e){return r.a.createElement("header",{className:E.a.Toolbar},r.a.createElement(q,{clicked:e.drawerToggleClicked}),r.a.createElement("div",{className:E.a.Logo},r.a.createElement(S,null)),r.a.createElement("nav",{className:E.a.DesktopOnly},r.a.createElement(Y,null)))},z=n(20),Q=n.n(z),$=n(43),ee=n.n($),te=function(e){return e.show?r.a.createElement("div",{className:ee.a.Backdrop,onClick:e.clicked}):null},ne=function(e){var t=[Q.a.SideDrawer,Q.a.Close];return e.open&&(t=[Q.a.SideDrawer,Q.a.Open]),r.a.createElement(g,null,r.a.createElement(te,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("div",{className:Q.a.Logo},r.a.createElement(S,null)),r.a.createElement("nav",null,r.a.createElement(Y,null))))},ae=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showSideDrawer:!1},n.sideDrawerClosedHandler=function(){n.setState({showSideDrawer:!1})},n.sideDrawerToggleHandler=function(){n.setState((function(e){return{showSideDrawer:!e.showSideDrawer}}))},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(K,{drawerToggleClicked:this.sideDrawerToggleHandler}),r.a.createElement(ne,{open:this.state.showSideDrawer,closed:this.sideDrawerClosedHandler}),r.a.createElement("main",{className:p.a.Content},this.props.children))}}]),t}(a.Component),re=n(49);var oe=Object(w.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(re.a)(e,["component","auth"]);return r.a.createElement(v.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(v.a,{to:{pathname:"/"}})}}))})),le=n(3),ce=n(31),ue=n.n(ce),ie=n(32),se=n.n(ie),me=function(e){var t=e.type,n=e.onChangeHandeler,a=e.classNames,o=e.value,l=e.placeholder,c=e.inputStyle,u=e.name;t=t||"text";var i=se.a.inputStyle;c&&(i=se.a[c]),a=[i,a].join(" ");var s=r.a.useState(""),m=Object(le.a)(s,2),d=m[0],v=m[1];return"function"!==typeof n&&(n=function(e){v(e.target.value)},o=d),r.a.createElement("input",{type:t,onChange:n,className:a,value:o,placeholder:l,name:u})},de=n(33),ve=n.n(de),ge=function(e){var t=e.clicked,n=e.children,a=e.btnType,o=e.type,l=e.name,c=e.disabled,u=e.style,i=e.classNames;return o=o||"button",i=i||"",r.a.createElement("button",{className:[ve.a.Button,ve.a[a],i].join(" "),onClick:t,type:o,style:u,name:l,disabled:c},n)},fe=n(44),pe=n.n(fe),_e=function(e){var t=e.children,n=e.style;return r.a.createElement("div",{className:pe.a.FormRow,style:n},t)};var Ee=Object(w.b)((function(e){return{auth:e.auth,authError:e.authError}}),(function(e){return{onAuth:function(t){return e(J(t))},isLoggedIn:function(){return e((function(e){if(localStorage.getItem("token")){var t=new Date(localStorage.getItem("expirationDate"));if(t<=new Date)e(W());else{var n=localStorage.getItem("userId"),a=localStorage.getItem("userName");e(P(n,a)),e(X((t.getTime()-(new Date).getTime())/1e3))}}else e(W())}))}}}))((function(e){var t=Object(a.useState)(""),n=Object(le.a)(t,2),o=n[0],l=n[1],c=e.isLoggedIn,u=""===o;return Object(a.useEffect)((function(){c()}),[c]),e.auth?r.a.createElement(v.a,{to:"/dashboard"}):r.a.createElement("div",{className:ue.a.Main},r.a.createElement("p",{className:ue.a.SignInText},b.signInText),r.a.createElement(S,null),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.onAuth(o)}},r.a.createElement(_e,null,r.a.createElement(me,{value:o,placeholder:b.signinPlaceholder,onChangeHandeler:function(e){return l(e.target.value)},name:"userName"})),r.a.createElement(_e,null,r.a.createElement(ge,{btnType:"Rounded",type:"submit",name:"guestLogin",disabled:u},b.guestLogin))))})),he=n(45),Ne=n.n(he),be=n(9),Se=n.n(be),Oe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},De=n(46),we=n.n(De),Ie=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show}},{key:"render",value:function(){return r.a.createElement(g,null,r.a.createElement(te,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement("div",{className:we.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children))}}]),t}(a.Component),ye=n(12),Ce=n.n(ye);var je=function(e){var t=Object(a.useState)(""),n=Object(le.a)(t,2),o=n[0],l=n[1],c=Object(a.useState)(""),u=Object(le.a)(c,2),i=u[0],s=u[1],m=Object(a.useState)(""),d=Object(le.a)(m,2),v=d[0],g=d[1],f=Object(a.useState)(""),p=Object(le.a)(f,2),_=p[0],E=p[1],h=Object(a.useState)(""),N=Object(le.a)(h,2),S=N[0],O=N[1],D=![o,i,v,_,S].every((function(e){return""!==e}));return r.a.createElement("section",{className:Ce.a.NewEvent},r.a.createElement("h2",null,e.heading),r.a.createElement("div",{className:Ce.a.InputContainer},r.a.createElement(me,{value:o,onChangeHandeler:function(e){return l(e.target.value)},placeholder:b.eventName})),r.a.createElement("div",{className:Ce.a.InputContainer},r.a.createElement(me,{value:i,onChangeHandeler:function(e){return s(e.target.value)},placeholder:b.description})),r.a.createElement("div",{className:Ce.a.InputContainer},r.a.createElement(me,{value:v,onChangeHandeler:function(e){return g(e.target.value)},placeholder:b.venue})),r.a.createElement("div",{className:Ce.a.InputContainer},r.a.createElement(me,{value:_,onChangeHandeler:function(e){return E(e.target.value)},placeholder:b.price,type:"number"})),r.a.createElement("div",{className:Ce.a.InputContainer},r.a.createElement(me,{value:S,onChangeHandeler:function(e){return O(e.target.value)},placeholder:b.discount,type:"number"})),r.a.createElement("div",{className:Oe(Se.a.PullRight,Ce.a.ButtonContainer)},r.a.createElement(ge,{btnType:"AutoWidth",name:"createEvent",clicked:function(){e.create(o,i,v,_,S)},disabled:D},b.create),r.a.createElement(ge,{btnType:"AutoWidth",name:"ResetEvent",clicked:function(){[l,s,g,E,O].forEach((function(e){return e("")}))},classNames:Se.a.MarginLSM},b.reset),r.a.createElement(ge,{btnType:"AutoWidth",name:"Cancel",classNames:Se.a.MarginLSM,clicked:e.cancel},b.cancel)))},Te=n(34),ke=n.n(Te),xe=function(e){var t=e.children;return r.a.createElement("section",{className:ke.a.Card},r.a.createElement("div",{className:ke.a.Container},t))};var Le=function(e){var t=e.data,n=e.filterValue;if(!t)return r.a.createElement("h2",null,b.noEvents);var a=Object.keys(t);0!==+n&&(a=a.filter((function(e){var a=t[e];return 1===+n?0===Number(a.price):2===+n?0!==Number(a.discount):3===+n?0===Number(a.discount):void 0})));var o=a.map((function(e){var n=t[e];return r.a.createElement(xe,{key:n.id},r.a.createElement("h3",null,n.eventName),r.a.createElement("p",null,r.a.createElement("strong",null,b.description," :"),n.description),r.a.createElement("p",null,r.a.createElement("span",null,r.a.createElement("strong",null,b.venue," :"),n.venue),r.a.createElement("span",null,r.a.createElement("strong",null,b.price," :"),n.price),r.a.createElement("span",null,r.a.createElement("strong",null,b.discount," :"),n.discount)))}));return r.a.createElement("section",null,a.length?o:r.a.createElement("h3",null,b.notFoundInSelectedFilter))};var Me=function(e){var t=e.options,n=e.onChange,a=e.value;return r.a.createElement("select",{onChange:n,value:a},t.map((function(e,t){return r.a.createElement("option",{key:e,value:t},e)})))};var Ae=Object(w.b)((function(e){return{userId:e.userId,userName:e.userName,loading:e.loading,eventData:e.eventData}}),(function(e){return{getEvents:function(t){return e(U(t))},createEvent:function(t,n,a,r,o,l){return e(H(t,n,a,r,o,l))}}}))((function(e){var t=e.userId,n=e.getEvents,o=Object(a.useState)(0),l=Object(le.a)(o,2),c=l[0],u=l[1],i=function(e){var t=["All","Free","Discount","No Discount"];return"undefined"===typeof e?t:t[e]}();Object(a.useEffect)((function(){n(t)}),[n,t]);var s=Object(a.useState)(!1),m=Object(le.a)(s,2),d=m[0],v=m[1],g=function(){v(!d)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",null,r.a.createElement("h1",{className:Oe(Se.a.inlineBlock,Se.a.marginNone)},"Dasboard : ",e.userName),r.a.createElement("div",{className:Oe(Se.a.PullRight,Se.a.inlineBlock)},r.a.createElement("span",null,b.filterTasks,r.a.createElement(Me,{options:i,value:c,onChange:function(e){return t=e.target.value,void u(t);var t}})),r.a.createElement(ge,{btnType:"AutoWidth",name:"createNewEvent",clicked:g,classNames:Se.a.MarginLMD},b.createNewEvent))),r.a.createElement("div",{className:Ne.a.Dashboard},r.a.createElement(Ie,{show:d,modalClosed:g},r.a.createElement(je,{cancel:g,create:function(n,a,r,o,l){e.createEvent(n,a,r,o,l,t),g()},heading:b.createNewEvent})),e.loading?b.loading:r.a.createElement(Le,{data:e.eventData,filterValue:c})))})),Fe=n(47),Be=n.n(Fe);var Ue=function(e){return r.a.createElement("div",{className:Be.a.NotFound},r.a.createElement("h1",null,"404"))},Re=function(e){function t(){return Object(u.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{exact:!0,path:"/",component:Ee}),r.a.createElement(oe,{exact:!0,path:"/dashboard",component:Ae}),r.a.createElement(v.b,{component:Ue}))))}}]),t}(a.Component),He=n(25),Pe={eventData:null,loading:!0,error:!1,auth:!1,userId:"",userName:"",authError:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_FAIL":return Object(He.a)({},e,{auth:!1,authError:!0});case"AUTH_SUCCESS":return Object(He.a)({},e,{auth:!0,userId:t.userId,userName:t.userName});case"SET_DASHBOARD":return Object(He.a)({},e,{eventData:t.data,loading:!1});default:return e}},Xe=n(19),Je=n(48),Ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Xe.c,Ye=Object(Xe.d)(We,Ve(Object(Xe.a)(Je.a))),Ge=r.a.createElement(w.a,{store:Ye},r.a.createElement(c.a,null,r.a.createElement(Re,null)));l.a.render(Ge,document.getElementById("root"))}],[[50,1,2]]]);
//# sourceMappingURL=main.e845c95d.chunk.js.map